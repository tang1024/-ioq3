<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ioquake3 doxygen: C:/entry/dev/ioq3/code/renderergl2/tr_animation.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ioquake3 doxygen
   &#160;<span id="projectnumber">1.0 dev</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d4/d4d/tr__animation_8c_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">tr_animation.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/d4d/tr__animation_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">===========================================================================</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Copyright (C) 1999-2005 Id Software, Inc.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">This file is part of Quake III Arena source code.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">Quake III Arena source code is free software; you can redistribute it</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">and/or modify it under the terms of the GNU General Public License as</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">published by the Free Software Foundation; either version 2 of the License,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">Quake III Arena source code is distributed in the hope that it will be</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">useful, but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">GNU General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">along with Quake III Arena source code; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">===========================================================================</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/df2/tr__local_8h.html">tr_local.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">All bones should be an identity orientation to display the mesh exactly</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">as it is specified.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">For all other frames, the bones represent the transformation from the </span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">orientation of the bone in the base frame to the orientation in this</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">frame.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// copied and adapted from tr_mesh.c</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">=============</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">R_MDRCullModel</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">=============</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a9becd02143182d5942f2a8fc7b497265">   45</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d4d/tr__animation_8c.html#a9becd02143182d5942f2a8fc7b497265">R_MDRCullModel</a>( <a class="code" href="../../d2/df4/structmdr_header__t.html">mdrHeader_t</a> *header, <a class="code" href="../../dc/d4f/structtr_ref_entity__t.html">trRefEntity_t</a> *ent ) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../de/d01/q__shared_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>      bounds[2];</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a>  *oldFrame, *newFrame;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">int</span>         i, frameSize;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    frameSize = (size_t)( &amp;((<a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a> *)0)-&gt;bones[ header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a849917792b6722fdb346380c0d0f9ca7">numBones</a> ] );</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// compute frame pointers</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    newFrame = ( <a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a> * ) ( ( <span class="keywordtype">byte</span> * ) header + header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a042c5afd7c83bb9ea2f9a672bfb7ed3b">ofsFrames</a> + frameSize * ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    oldFrame = ( <a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a> * ) ( ( <span class="keywordtype">byte</span> * ) header + header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a042c5afd7c83bb9ea2f9a672bfb7ed3b">ofsFrames</a> + frameSize * ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// cull bounding sphere ONLY if this is not an upscaled entity</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> ( !ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a29c3c6aed2febdf7c2a93d5fbac47e4b">nonNormalizedAxes</a> )</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">if</span> ( ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a> == ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a> )</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">switch</span> ( <a class="code" href="../../d2/df2/tr__local_8h.html#a5aba2c0c3818eb141d461139386d4a21">R_CullLocalPointAndRadius</a>( newFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a233ce9e11d2203268346555bc91c9d89">localOrigin</a>, newFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#af7e95caf264d2bec303a48060333bde6">radius</a> ) )</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                <span class="comment">// Ummm... yeah yeah I know we don&#39;t really have an md3 here.. but we pretend</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="comment">// we do. After all, the purpose of mdrs are not that different, are they?</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d2/df2/tr__local_8h.html#aa6a9ce8cf061921bdd7d765b54238d45">CULL_OUT</a>:</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                    <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#af20f98fd283096e18f1f35b64c5fa6c0">c_sphere_cull_md3_out</a>++;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d2/df2/tr__local_8h.html#aa6a9ce8cf061921bdd7d765b54238d45">CULL_OUT</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d2/df2/tr__local_8h.html#ac95ad9940ced91735712c690a2b67ae4">CULL_IN</a>:</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                    <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#aa60a3d4ab8fb9b8cbbbb97212f783d0d">c_sphere_cull_md3_in</a>++;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d2/df2/tr__local_8h.html#ac95ad9940ced91735712c690a2b67ae4">CULL_IN</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d2/df2/tr__local_8h.html#a8ee858b7ef06aa7c70de75209cb2642f">CULL_CLIP</a>:</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                    <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#ada88df2b8e218c602d4450ebc17ebbf4">c_sphere_cull_md3_clip</a>++;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordtype">int</span> sphereCull, sphereCullB;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            sphereCull  = <a class="code" href="../../d2/df2/tr__local_8h.html#a5aba2c0c3818eb141d461139386d4a21">R_CullLocalPointAndRadius</a>( newFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a233ce9e11d2203268346555bc91c9d89">localOrigin</a>, newFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#af7e95caf264d2bec303a48060333bde6">radius</a> );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">if</span> ( newFrame == oldFrame ) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                sphereCullB = sphereCull;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                sphereCullB = <a class="code" href="../../d2/df2/tr__local_8h.html#a5aba2c0c3818eb141d461139386d4a21">R_CullLocalPointAndRadius</a>( oldFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a233ce9e11d2203268346555bc91c9d89">localOrigin</a>, oldFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#af7e95caf264d2bec303a48060333bde6">radius</a> );</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">if</span> ( sphereCull == sphereCullB )</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="keywordflow">if</span> ( sphereCull == <a class="code" href="../../d2/df2/tr__local_8h.html#aa6a9ce8cf061921bdd7d765b54238d45">CULL_OUT</a> )</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#af20f98fd283096e18f1f35b64c5fa6c0">c_sphere_cull_md3_out</a>++;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d2/df2/tr__local_8h.html#aa6a9ce8cf061921bdd7d765b54238d45">CULL_OUT</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( sphereCull == <a class="code" href="../../d2/df2/tr__local_8h.html#ac95ad9940ced91735712c690a2b67ae4">CULL_IN</a> )</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#aa60a3d4ab8fb9b8cbbbb97212f783d0d">c_sphere_cull_md3_in</a>++;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d2/df2/tr__local_8h.html#ac95ad9940ced91735712c690a2b67ae4">CULL_IN</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#ada88df2b8e218c602d4450ebc17ebbf4">c_sphere_cull_md3_clip</a>++;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// calculate a bounding box in the current coordinate system</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">for</span> (i = 0 ; i &lt; 3 ; i++) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        bounds[0][i] = oldFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">bounds</a>[0][i] &lt; newFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">bounds</a>[0][i] ? oldFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">bounds</a>[0][i] : newFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">bounds</a>[0][i];</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        bounds[1][i] = oldFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">bounds</a>[1][i] &gt; newFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">bounds</a>[1][i] ? oldFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">bounds</a>[1][i] : newFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">bounds</a>[1][i];</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">switch</span> ( <a class="code" href="../../d2/df2/tr__local_8h.html#a67c1749a9cb3654a9fac887e2b2fcb7c">R_CullLocalBox</a>( bounds ) )</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d2/df2/tr__local_8h.html#ac95ad9940ced91735712c690a2b67ae4">CULL_IN</a>:</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#ab132152c5ce1fa3f99e1910697bc0a39">c_box_cull_md3_in</a>++;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/df2/tr__local_8h.html#ac95ad9940ced91735712c690a2b67ae4">CULL_IN</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d2/df2/tr__local_8h.html#a8ee858b7ef06aa7c70de75209cb2642f">CULL_CLIP</a>:</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#a17785434bd73b23978017bbe9f0523cd">c_box_cull_md3_clip</a>++;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/df2/tr__local_8h.html#a8ee858b7ef06aa7c70de75209cb2642f">CULL_CLIP</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d2/df2/tr__local_8h.html#aa6a9ce8cf061921bdd7d765b54238d45">CULL_OUT</a>:</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">pc</a>.<a class="code" href="../../dc/db2/structfront_end_counters__t.html#ac1eefeb062c4301e8db9f75fe84e6795">c_box_cull_md3_out</a>++;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/df2/tr__local_8h.html#aa6a9ce8cf061921bdd7d765b54238d45">CULL_OUT</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">=================</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">R_MDRComputeFogNum</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">=================</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#acf9082964d5fe79006537bb522d7a7a0">  138</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d4d/tr__animation_8c.html#acf9082964d5fe79006537bb522d7a7a0">R_MDRComputeFogNum</a>( <a class="code" href="../../d2/df4/structmdr_header__t.html">mdrHeader_t</a> *header, <a class="code" href="../../dc/d4f/structtr_ref_entity__t.html">trRefEntity_t</a> *ent ) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordtype">int</span>             i, j;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="../../de/d9f/structfog__t.html">fog_t</a>           *fog;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a>      *mdrFrame;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="../../de/d01/q__shared_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>          localOrigin;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">int</span> frameSize;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a9ac84f0b5e6b083ec10ba3a449f1c0a6">refdef</a>.<a class="code" href="../../d2/d69/structtr_refdef__t.html#a207415f07029398a863a20639d26d562">rdflags</a> &amp; <a class="code" href="../../d3/d66/tr__types_8h.html#a8c254753d773025f3aaf20136167ecbd">RDF_NOWORLDMODEL</a> ) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    frameSize = (size_t)( &amp;((<a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a> *)0)-&gt;bones[ header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a849917792b6722fdb346380c0d0f9ca7">numBones</a> ] );</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// FIXME: non-normalized axis issues</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    mdrFrame = ( <a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a> * ) ( ( <span class="keywordtype">byte</span> * ) header + header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a042c5afd7c83bb9ea2f9a672bfb7ed3b">ofsFrames</a> + frameSize * ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="../../de/d01/q__shared_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>( ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#addfff1e658a952ac57e051760141294f">origin</a>, mdrFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a233ce9e11d2203268346555bc91c9d89">localOrigin</a>, localOrigin );</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> ( i = 1 ; i &lt; <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a85f80d53f208dd3f0342593305b0d41e">world</a>-&gt;<a class="code" href="../../da/d48/structworld__t.html#a3fea9d17d9f42672ba319cfbdf576a00">numfogs</a> ; i++ ) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        fog = &amp;<a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a85f80d53f208dd3f0342593305b0d41e">world</a>-&gt;<a class="code" href="../../da/d48/structworld__t.html#a18aa897fab338d91c618f691c650ab0a">fogs</a>[i];</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">for</span> ( j = 0 ; j &lt; 3 ; j++ ) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> ( localOrigin[j] - mdrFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#af7e95caf264d2bec303a48060333bde6">radius</a> &gt;= fog-&gt;<a class="code" href="../../de/d9f/structfog__t.html#a0c14d801c05b59d4574aea13afdf7d3d">bounds</a>[1][j] ) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">if</span> ( localOrigin[j] + mdrFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#af7e95caf264d2bec303a48060333bde6">radius</a> &lt;= fog-&gt;<a class="code" href="../../de/d9f/structfog__t.html#a0c14d801c05b59d4574aea13afdf7d3d">bounds</a>[0][j] ) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span> ( j == 3 ) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">==============</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">R_MDRAddAnimSurfaces</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">==============</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">// much stuff in there is just copied from R_AddMd3Surfaces in tr_mesh.c</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../d2/df2/tr__local_8h.html#ae82e8a8920afbf8dd0ed76a84f78db59">  181</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d4d/tr__animation_8c.html#ae82e8a8920afbf8dd0ed76a84f78db59">R_MDRAddAnimSurfaces</a>( <a class="code" href="../../dc/d4f/structtr_ref_entity__t.html">trRefEntity_t</a> *ent ) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../d2/df4/structmdr_header__t.html">mdrHeader_t</a>     *header;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="../../dd/d96/structmdr_surface__t.html">mdrSurface_t</a>    *surface;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="../../dc/dd3/structmdr_l_o_d__t.html">mdrLOD_t</a>        *lod;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="../../d9/d60/structshader__s.html">shader_t</a>        *<a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="../../db/d29/structskin__s.html">skin_t</a>      *skin;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordtype">int</span>             i, j;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordtype">int</span>             lodnum = 0;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordtype">int</span>             fogNum = 0;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">int</span>             cull;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">int</span>             cubemapIndex;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136">qboolean</a>    personalModel;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    header = (<a class="code" href="../../d2/df4/structmdr_header__t.html">mdrHeader_t</a> *) <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#aaf40c6ab98aea754565ad367063946b9">currentModel</a>-&gt;<a class="code" href="../../df/d93/structmodel__s.html#ad21828e61f2c380e144f1613340a5ced">modelData</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    personalModel = (ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a0ea804e0d9587618560ff248ca7085d3">renderfx</a> &amp; <a class="code" href="../../d3/d66/tr__types_8h.html#af24f7935b529d1de5f201794b2164188">RF_THIRD_PERSON</a>) &amp;&amp; !(<a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#abbb10014b4c9c114858bbbb3833acdd4">viewParms</a>.<a class="code" href="../../dc/d5f/structview_parms__t.html#ace457fbc4eb792ef5f7b6e12fefa32e8">isPortal</a> </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                     || (<a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#abbb10014b4c9c114858bbbb3833acdd4">viewParms</a>.<a class="code" href="../../dc/d5f/structview_parms__t.html#a6d6cdd80fea8c5104a57efc80fa78c2f">flags</a> &amp; (<a class="code" href="../../d2/df2/tr__local_8h.html#a88a795b81d036494b0b17e80b6f0b651a6ab99fd04ff3b9afb7b598c9b3f7d3fd">VPF_SHADOWMAP</a> | <a class="code" href="../../d2/df2/tr__local_8h.html#a88a795b81d036494b0b17e80b6f0b651a76db5c5561e0f0164169e99a6bd91f50">VPF_DEPTHSHADOW</a>)));</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> ( ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a0ea804e0d9587618560ff248ca7085d3">renderfx</a> &amp; <a class="code" href="../../d3/d66/tr__types_8h.html#ad99129f92ccc1cc445146b25e7973e6f">RF_WRAP_FRAMES</a> )</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a> %= header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a8818afb02a9149cd9b1a0167d299450e">numFrames</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a> %= header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a8818afb02a9149cd9b1a0167d299450e">numFrames</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }   </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// Validate the frames so there is no chance of a crash.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// This will write directly into the entity structure, so</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// when the surfaces are rendered, they don&#39;t need to be</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// range checked again.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> ((ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a> &gt;= header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a8818afb02a9149cd9b1a0167d299450e">numFrames</a>) </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        || (ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a> &lt; 0)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        || (ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a> &gt;= header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a8818afb02a9149cd9b1a0167d299450e">numFrames</a>)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        || (ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a> &lt; 0) )</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="../../d7/d37/tr__common_8h.html#ad8c9b460fd8a24127b3c7dfd78e9351e">ri</a>.Printf( <a class="code" href="../../de/d01/q__shared_8h.html#a795cf7b86a6e2a8b8ca0e3f60be45ae6a54141205a93d730d263f8cb23fa5f01e">PRINT_DEVELOPER</a>, <span class="stringliteral">&quot;R_MDRAddAnimSurfaces: no such frame %d to %d for &#39;%s&#39;\n&quot;</span>,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;               ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a>, ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a>, <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#aaf40c6ab98aea754565ad367063946b9">currentModel</a>-&gt;<a class="code" href="../../df/d93/structmodel__s.html#adebe34da68c7002c8db396505e73844a">name</a> );</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a> = 0;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a> = 0;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// cull the entire model if merged bounding box of both frames</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// is outside the view frustum.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    cull = <a class="code" href="../../d4/d4d/tr__animation_8c.html#a9becd02143182d5942f2a8fc7b497265">R_MDRCullModel</a> (header, ent);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> ( cull == <a class="code" href="../../d2/df2/tr__local_8h.html#aa6a9ce8cf061921bdd7d765b54238d45">CULL_OUT</a> ) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }   </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// figure out the current LOD of the model we&#39;re rendering, and set the lod pointer respectively.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    lodnum = <a class="code" href="../../d2/df2/tr__local_8h.html#a0d2cbba3c6223eb996b953dda5b0d3e3">R_ComputeLOD</a>(ent);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// check whether this model has as that many LODs at all. If not, try the closest thing we got.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span>(header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#ac6b93956781939d81511fba0a4f5682a">numLODs</a> &lt;= 0)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span>(header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#ac6b93956781939d81511fba0a4f5682a">numLODs</a> &lt;= lodnum)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        lodnum = header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#ac6b93956781939d81511fba0a4f5682a">numLODs</a> - 1;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    lod = (<a class="code" href="../../dc/dd3/structmdr_l_o_d__t.html">mdrLOD_t</a> *)( (<span class="keywordtype">byte</span> *)header + header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#ad9c1cee8390276fd323c8cb6564adf43">ofsLODs</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; lodnum; i++)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        lod = (<a class="code" href="../../dc/dd3/structmdr_l_o_d__t.html">mdrLOD_t</a> *) ((<span class="keywordtype">byte</span> *) lod + lod-&gt;<a class="code" href="../../dc/dd3/structmdr_l_o_d__t.html#a599ab623f6aec58419a8fa03a73f1838">ofsEnd</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// set up lighting</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> ( !personalModel || <a class="code" href="../../d6/d0e/tr__init_8c.html#a3a0dfc02db1c8ef128c9e667be8b8f86">r_shadows</a>-&gt;<a class="code" href="../../d8/d20/structcvar__s.html#ae873b26596ff98802364d80bbb71c72a">integer</a> &gt; 1 )</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="../../d2/d6e/tr__light_8c.html#a2fbd7ddfbf9e9b05c53fe224c1ffe2f0">R_SetupEntityLighting</a>( &amp;<a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a9ac84f0b5e6b083ec10ba3a449f1c0a6">refdef</a>, ent );</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// fogNum?</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    fogNum = <a class="code" href="../../d4/d4d/tr__animation_8c.html#acf9082964d5fe79006537bb522d7a7a0">R_MDRComputeFogNum</a>( header, ent );</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    cubemapIndex = <a class="code" href="../../d2/d6e/tr__light_8c.html#aab5f60463a6a3868587e43ea36b98788">R_CubemapForPoint</a>(ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#addfff1e658a952ac57e051760141294f">origin</a>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    surface = (<a class="code" href="../../dd/d96/structmdr_surface__t.html">mdrSurface_t</a> *)( (<span class="keywordtype">byte</span> *)lod + lod-&gt;<a class="code" href="../../dc/dd3/structmdr_l_o_d__t.html#a815871a9bbf9c9d38dd327f2147f8682">ofsSurfaces</a> );</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">for</span> ( i = 0 ; i &lt; lod-&gt;<a class="code" href="../../dc/dd3/structmdr_l_o_d__t.html#af5d1093e25d597e4a363ccbfc6736b34">numSurfaces</a> ; i++ )</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">if</span>(ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a657815b22b9f86ff5a7232bb73cff091">customShader</a>)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a> = <a class="code" href="../../d2/df2/tr__local_8h.html#a379ee38303eb2bfeb9a0273de9228f19">R_GetShaderByHandle</a>(ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a657815b22b9f86ff5a7232bb73cff091">customShader</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a820eb2a02e729cf3a452718748c509f3">customSkin</a> &gt; 0 &amp;&amp; ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a820eb2a02e729cf3a452718748c509f3">customSkin</a> &lt; <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a03d142f0e60f9235b1124289b3a9d2f9">numSkins</a>)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            skin = <a class="code" href="../../d6/dfe/tr__image_8c.html#ae9f3f7f1e85b38dedd4ab6f2aacc0d83">R_GetSkinByHandle</a>(ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a820eb2a02e729cf3a452718748c509f3">customSkin</a>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a> = <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a80f30b6dc746992af08de3979ba08511">defaultShader</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">for</span>(j = 0; j &lt; skin-&gt;<a class="code" href="../../db/d29/structskin__s.html#ae4f1a02798ef14cd1e5eed5a268b170c">numSurfaces</a>; j++)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keywordflow">if</span> (!strcmp(skin-&gt;<a class="code" href="../../db/d29/structskin__s.html#a844b09ce38d65c88b96860d2b614cb28">surfaces</a>[j].<a class="code" href="../../db/d30/structskin_surface__t.html#af481402e41c1818a1b93df8f605db6f0">name</a>, surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#a1e6d4a7e940d3415413fb373f1fd6b84">name</a>))</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    <a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a> = skin-&gt;<a class="code" href="../../db/d29/structskin__s.html#a844b09ce38d65c88b96860d2b614cb28">surfaces</a>[j].<a class="code" href="../../db/d30/structskin_surface__t.html#ad7604ee55c013211f23e2646b9920eff">shader</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#aebd077d2e4f2d7a66fc2a6fb26de30c7">shaderIndex</a> &gt; 0)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a> = <a class="code" href="../../d2/df2/tr__local_8h.html#a379ee38303eb2bfeb9a0273de9228f19">R_GetShaderByHandle</a>( surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#aebd077d2e4f2d7a66fc2a6fb26de30c7">shaderIndex</a> );</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a> = <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a80f30b6dc746992af08de3979ba08511">defaultShader</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="comment">// we will add shadows even if the main object isn&#39;t visible in the view</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="comment">// stencil shadows can&#39;t do personal models unless I polyhedron clip</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> ( !personalModel</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                &amp;&amp; <a class="code" href="../../d6/d0e/tr__init_8c.html#a3a0dfc02db1c8ef128c9e667be8b8f86">r_shadows</a>-&gt;<a class="code" href="../../d8/d20/structcvar__s.html#ae873b26596ff98802364d80bbb71c72a">integer</a> == 2</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            &amp;&amp; fogNum == 0</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            &amp;&amp; !(ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a0ea804e0d9587618560ff248ca7085d3">renderfx</a> &amp; ( <a class="code" href="../../d3/d66/tr__types_8h.html#aa4a705423e58d3fd1c2e6c1b2e738f95">RF_NOSHADOW</a> | <a class="code" href="../../d3/d66/tr__types_8h.html#a25aa94ce2265d443b0ad5dfc900f86d4">RF_DEPTHHACK</a> ) )</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            &amp;&amp; <a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a>-&gt;<a class="code" href="../../d9/d60/structshader__s.html#a63a3ac69b0772b80eb81be6bb4b4e650">sort</a> == <a class="code" href="../../d2/df2/tr__local_8h.html#a03df5920ac8ad3d828f4174d77a0c705a6b2c619db929f7bd5a69e8ef573e60cf">SS_OPAQUE</a> )</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <a class="code" href="../../d2/df2/tr__local_8h.html#a7715cf6dcc63f2e8a712ec61f90e1d5a">R_AddDrawSurf</a>( (<span class="keywordtype">void</span> *)surface, <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#ab4e6ee584773376779097712c135e17c">shadowShader</a>, 0, <a class="code" href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>, <a class="code" href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>, 0 );</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="comment">// projection shadows work fine with personal models</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="../../d6/d0e/tr__init_8c.html#a3a0dfc02db1c8ef128c9e667be8b8f86">r_shadows</a>-&gt;<a class="code" href="../../d8/d20/structcvar__s.html#ae873b26596ff98802364d80bbb71c72a">integer</a> == 3</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            &amp;&amp; fogNum == 0</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            &amp;&amp; (ent-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a0ea804e0d9587618560ff248ca7085d3">renderfx</a> &amp; <a class="code" href="../../d3/d66/tr__types_8h.html#af528c63201d824134dd3da6baae97dc2">RF_SHADOW_PLANE</a> )</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            &amp;&amp; <a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a>-&gt;<a class="code" href="../../d9/d60/structshader__s.html#a63a3ac69b0772b80eb81be6bb4b4e650">sort</a> == <a class="code" href="../../d2/df2/tr__local_8h.html#a03df5920ac8ad3d828f4174d77a0c705a6b2c619db929f7bd5a69e8ef573e60cf">SS_OPAQUE</a> )</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="../../d2/df2/tr__local_8h.html#a7715cf6dcc63f2e8a712ec61f90e1d5a">R_AddDrawSurf</a>( (<span class="keywordtype">void</span> *)surface, <a class="code" href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a>.<a class="code" href="../../dd/de7/structtr_globals__t.html#a0751208d57071f34c7ec806062976bb1">projectionShadowShader</a>, 0, <a class="code" href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>, <a class="code" href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>, 0 );</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">if</span> (!personalModel)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <a class="code" href="../../d2/df2/tr__local_8h.html#a7715cf6dcc63f2e8a712ec61f90e1d5a">R_AddDrawSurf</a>( (<span class="keywordtype">void</span> *)surface, <a class="code" href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a>, fogNum, <a class="code" href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>, <a class="code" href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a>, cubemapIndex );</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        surface = (<a class="code" href="../../dd/d96/structmdr_surface__t.html">mdrSurface_t</a> *)( (<span class="keywordtype">byte</span> *)surface + surface-&gt;ofsEnd );</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">==============</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">RB_MDRSurfaceAnim</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">==============</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../d2/df2/tr__local_8h.html#ae0d036e1182414eaa5faef3164fe4e8a">  315</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d4d/tr__animation_8c.html#ae0d036e1182414eaa5faef3164fe4e8a">RB_MDRSurfaceAnim</a>( <a class="code" href="../../dd/d96/structmdr_surface__t.html">mdrSurface_t</a> *surface )</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">int</span>             i, j, k;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">float</span>           frontlerp, backlerp;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">int</span>             *triangles;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="../../df/d3e/tr__vbo_8c.html#a18dfb862ebd3e6d95f732fca05385362">indexes</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordtype">int</span>             baseIndex, baseVertex;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">int</span>             numVerts;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="../../d3/df5/structmdr_vertex__t.html">mdrVertex_t</a>     *v;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="../../d2/df4/structmdr_header__t.html">mdrHeader_t</a>     *header;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a>      *frame;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a>      *oldFrame;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="../../d4/d66/structmdr_bone__t.html">mdrBone_t</a>       bones[<a class="code" href="../../db/d01/qfiles_8h.html#a0abeb29ddf44d6644cb91dd9a0efdf41">MDR_MAX_BONES</a>], *bonePtr, *bone;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">int</span>         frameSize;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// don&#39;t lerp if lerping off, or this is the only frame, or the last frame...</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d50/tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="../../d9/d89/structback_end_state__t.html#ac36bae87850f6f053c8366f3184fc77a">currentEntity</a>-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a> == <a class="code" href="../../d5/d50/tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="../../d9/d89/structback_end_state__t.html#ac36bae87850f6f053c8366f3184fc77a">currentEntity</a>-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a>) </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        backlerp    = 0;    <span class="comment">// if backlerp is 0, lerping is off and frontlerp is never used</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        frontlerp   = 1;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    } </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">else</span>  </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        backlerp    = <a class="code" href="../../d5/d50/tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="../../d9/d89/structback_end_state__t.html#ac36bae87850f6f053c8366f3184fc77a">currentEntity</a>-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#ab20fcaaba636e72b88a67bd38a3b257d">backlerp</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        frontlerp   = 1.0f - backlerp;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    header = (<a class="code" href="../../d2/df4/structmdr_header__t.html">mdrHeader_t</a> *)((<span class="keywordtype">byte</span> *)surface + surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#a5b4e7e3c9ba75639b4f6d4eb6154e7be">ofsHeader</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    frameSize = (size_t)( &amp;((<a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a> *)0)-&gt;bones[ header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a849917792b6722fdb346380c0d0f9ca7">numBones</a> ] );</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    frame = (<a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a> *)((<span class="keywordtype">byte</span> *)header + header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a042c5afd7c83bb9ea2f9a672bfb7ed3b">ofsFrames</a> +</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="../../d5/d50/tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="../../d9/d89/structback_end_state__t.html#ac36bae87850f6f053c8366f3184fc77a">currentEntity</a>-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">frame</a> * frameSize );</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    oldFrame = (<a class="code" href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a> *)((<span class="keywordtype">byte</span> *)header + header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a042c5afd7c83bb9ea2f9a672bfb7ed3b">ofsFrames</a> +</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="../../d5/d50/tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a>.<a class="code" href="../../d9/d89/structback_end_state__t.html#ac36bae87850f6f053c8366f3184fc77a">currentEntity</a>-&gt;<a class="code" href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">e</a>.<a class="code" href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">oldframe</a> * frameSize );</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="../../d2/df2/tr__local_8h.html#a07370d209bf1f19203600eebfb991613">RB_CHECKOVERFLOW</a>( surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#aeb04efdee373085646a6dcaa797edb48">numVerts</a>, surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#a5b56ca1e094757ec523f25b440ea7158">numTriangles</a> * 3 );</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    triangles   = (<span class="keywordtype">int</span> *) ((<span class="keywordtype">byte</span> *)surface + surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#ab02e3af66357521471ca4f5d79b9fc6c">ofsTriangles</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="../../df/d3e/tr__vbo_8c.html#a18dfb862ebd3e6d95f732fca05385362">indexes</a>     = surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#a5b56ca1e094757ec523f25b440ea7158">numTriangles</a> * 3;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    baseIndex   = <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.<a class="code" href="../../dc/dff/structshader_commands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    baseVertex  = <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.<a class="code" href="../../dc/dff/structshader_commands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">numVertexes</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">// Set up all triangles.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">for</span> (j = 0 ; j &lt; <a class="code" href="../../df/d3e/tr__vbo_8c.html#a18dfb862ebd3e6d95f732fca05385362">indexes</a> ; j++) </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.indexes[baseIndex + j] = baseVertex + triangles[j];</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.<a class="code" href="../../dc/dff/structshader_commands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">numIndexes</a> += <a class="code" href="../../df/d3e/tr__vbo_8c.html#a18dfb862ebd3e6d95f732fca05385362">indexes</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// lerp all the needed bones</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> ( !backlerp ) </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="comment">// no lerping needed</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        bonePtr = frame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a6d391ab44d5afd5179215f5944ba7dcf">bones</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    } </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        bonePtr = bones;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">for</span> ( i = 0 ; i &lt; header-&gt;<a class="code" href="../../d2/df4/structmdr_header__t.html#a849917792b6722fdb346380c0d0f9ca7">numBones</a>*12 ; i++ ) </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            ((<span class="keywordtype">float</span> *)bonePtr)[i] = frontlerp * ((<span class="keywordtype">float</span> *)frame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a6d391ab44d5afd5179215f5944ba7dcf">bones</a>)[i] + backlerp * ((<span class="keywordtype">float</span> *)oldFrame-&gt;<a class="code" href="../../d7/d96/structmdr_frame__t.html#a6d391ab44d5afd5179215f5944ba7dcf">bones</a>)[i];</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// deform the vertexes by the lerped bones</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    numVerts = surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#aeb04efdee373085646a6dcaa797edb48">numVerts</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    v = (<a class="code" href="../../d3/df5/structmdr_vertex__t.html">mdrVertex_t</a> *) ((<span class="keywordtype">byte</span> *)surface + surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#af51254c4561ab8f06b8ad5192383128f">ofsVerts</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">for</span> ( j = 0; j &lt; numVerts; j++ ) </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="../../de/d01/q__shared_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>  tempVert, tempNormal;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="../../d1/d65/structmdr_weight__t.html">mdrWeight_t</a> *w;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="../../de/d01/q__shared_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>( tempVert );</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="../../de/d01/q__shared_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>( tempNormal );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        w = v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a01a0319804b32d4f8fa7837ab531b399">weights</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">for</span> ( k = 0 ; k &lt; v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a63debd4fa901d9a18e4aabf613bdedd0">numWeights</a> ; k++, w++ ) </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            bone = bonePtr + w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#a0e5501d7a04f5e5f8220b3ead2fb30e7">boneIndex</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            tempVert[0] += w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#a8f5dfa45471f52ed5a6e73edb65ca0ba">boneWeight</a> * ( <a class="code" href="../../de/d01/q__shared_8h.html#ac53d956b361c806bb26b3914a66c5d4d">DotProduct</a>( bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[0], w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#af2918cfacbcf8a7914ecf6ebaca1b696">offset</a> ) + bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[0][3] );</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            tempVert[1] += w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#a8f5dfa45471f52ed5a6e73edb65ca0ba">boneWeight</a> * ( <a class="code" href="../../de/d01/q__shared_8h.html#ac53d956b361c806bb26b3914a66c5d4d">DotProduct</a>( bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[1], w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#af2918cfacbcf8a7914ecf6ebaca1b696">offset</a> ) + bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[1][3] );</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            tempVert[2] += w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#a8f5dfa45471f52ed5a6e73edb65ca0ba">boneWeight</a> * ( <a class="code" href="../../de/d01/q__shared_8h.html#ac53d956b361c806bb26b3914a66c5d4d">DotProduct</a>( bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[2], w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#af2918cfacbcf8a7914ecf6ebaca1b696">offset</a> ) + bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[2][3] );</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            tempNormal[0] += w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#a8f5dfa45471f52ed5a6e73edb65ca0ba">boneWeight</a> * <a class="code" href="../../de/d01/q__shared_8h.html#ac53d956b361c806bb26b3914a66c5d4d">DotProduct</a>( bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[0], v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a157f2364bf2ea14a3051f2ed7df676fb">normal</a> );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            tempNormal[1] += w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#a8f5dfa45471f52ed5a6e73edb65ca0ba">boneWeight</a> * <a class="code" href="../../de/d01/q__shared_8h.html#ac53d956b361c806bb26b3914a66c5d4d">DotProduct</a>( bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[1], v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a157f2364bf2ea14a3051f2ed7df676fb">normal</a> );</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            tempNormal[2] += w-&gt;<a class="code" href="../../d1/d65/structmdr_weight__t.html#a8f5dfa45471f52ed5a6e73edb65ca0ba">boneWeight</a> * <a class="code" href="../../de/d01/q__shared_8h.html#ac53d956b361c806bb26b3914a66c5d4d">DotProduct</a>( bone-&gt;<a class="code" href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">matrix</a>[2], v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a157f2364bf2ea14a3051f2ed7df676fb">normal</a> );</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.xyz[baseVertex + j][0] = tempVert[0];</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.xyz[baseVertex + j][1] = tempVert[1];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.xyz[baseVertex + j][2] = tempVert[2];</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="../../d2/df2/tr__local_8h.html#a7a04568895e95f8ae30f0a319da3751d">R_VaoPackNormal</a>(<a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.normal[baseVertex + j], tempNormal);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.texCoords[baseVertex + j][0] = v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a27bf24c4e2efa072bceae08a967da852">texCoords</a>[0];</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.texCoords[baseVertex + j][1] = v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a27bf24c4e2efa072bceae08a967da852">texCoords</a>[1];</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        v = (<a class="code" href="../../d3/df5/structmdr_vertex__t.html">mdrVertex_t</a> *)&amp;v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a01a0319804b32d4f8fa7837ab531b399">weights</a>[v-&gt;<a class="code" href="../../d3/df5/structmdr_vertex__t.html#a63debd4fa901d9a18e4aabf613bdedd0">numWeights</a>];</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a>.<a class="code" href="../../dc/dff/structshader_commands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">numVertexes</a> += surface-&gt;<a class="code" href="../../dd/d96/structmdr_surface__t.html#aeb04efdee373085646a6dcaa797edb48">numVerts</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a396cebb19b061c767af84bb1f5334be0">  427</a></span>&#160;<span class="preprocessor">#define MC_MASK_X ((1&lt;&lt;(MC_BITS_X))-1)</span></div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a1f7d17893476a8df17b30a04ef028bcb">  428</a></span>&#160;<span class="preprocessor">#define MC_MASK_Y ((1&lt;&lt;(MC_BITS_Y))-1)</span></div>
<div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a513c1d0ea1a01db946dd162daa3b9e12">  429</a></span>&#160;<span class="preprocessor">#define MC_MASK_Z ((1&lt;&lt;(MC_BITS_Z))-1)</span></div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a91bff54c72af16e9db2bceff9dd77fbd">  430</a></span>&#160;<span class="preprocessor">#define MC_MASK_VECT ((1&lt;&lt;(MC_BITS_VECT))-1)</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">  432</a></span>&#160;<span class="preprocessor">#define MC_SCALE_VECT (1.0f/(float)((1&lt;&lt;(MC_BITS_VECT-1))-2))</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a2dc6f02828117024868b93cfe599e228">  434</a></span>&#160;<span class="preprocessor">#define MC_POS_X (0)</span></div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a7af369238e302b2bf125598f038d0d0c">  435</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_X (0)</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#aa03905840b0949fd5def638e1959d320">  437</a></span>&#160;<span class="preprocessor">#define MC_POS_Y ((((MC_BITS_X))/8))</span></div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a8517809bace942b83312b003839d578c">  438</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_Y ((((MC_BITS_X)%8)))</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#af455e081a521a6e4af0ff20152efceef">  440</a></span>&#160;<span class="preprocessor">#define MC_POS_Z ((((MC_BITS_X+MC_BITS_Y))/8))</span></div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#ab90a1477a682f015177ee7c5cc09054f">  441</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_Z ((((MC_BITS_X+MC_BITS_Y)%8)))</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#ae27f7be76f01fcb70c863092a9e89b78">  443</a></span>&#160;<span class="preprocessor">#define MC_POS_V11 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z))/8))</span></div>
<div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a84ddd660ec81fd7e6649b5be7beef254">  444</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V11 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z)%8)))</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#ada6b73fffef1aed8dc20900d50023bd5">  446</a></span>&#160;<span class="preprocessor">#define MC_POS_V12 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT))/8))</span></div>
<div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#ae7aebf7811f4f8b73b2d13d0a0d16b76">  447</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V12 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT)%8)))</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#ac706ab14ad3b2db506ddfa22b05c36e7">  449</a></span>&#160;<span class="preprocessor">#define MC_POS_V13 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*2))/8))</span></div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#af4fca261a27bae35fe8a96340adf4c7a">  450</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V13 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*2)%8)))</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#ad3bf57d90720dd7dcba3366d4c9d4d89">  452</a></span>&#160;<span class="preprocessor">#define MC_POS_V21 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*3))/8))</span></div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#ac16384732c9654902bc08f40df8bb1b2">  453</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V21 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*3)%8)))</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#aff046118066437b42950597feeded5bc">  455</a></span>&#160;<span class="preprocessor">#define MC_POS_V22 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*4))/8))</span></div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#acb8970055138f6a93ef2ee7cb6399b94">  456</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V22 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*4)%8)))</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a659f4780b06418e96f5239e161495974">  458</a></span>&#160;<span class="preprocessor">#define MC_POS_V23 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*5))/8))</span></div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#aa8867ac193439636a1fa448027847ad4">  459</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V23 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*5)%8)))</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a18bb417c018bb3b31098d1fa27ad1d12">  461</a></span>&#160;<span class="preprocessor">#define MC_POS_V31 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*6))/8))</span></div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a499c4ec7b4ca61a6796d97d9a98574cf">  462</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V31 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*6)%8)))</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a47944f3260736022d5ec943729144f8f">  464</a></span>&#160;<span class="preprocessor">#define MC_POS_V32 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*7))/8))</span></div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a2cfad52ee441e9167cfc96a353746dba">  465</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V32 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*7)%8)))</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a8a42ad7064312c9c106a693cf1e04a8b">  467</a></span>&#160;<span class="preprocessor">#define MC_POS_V33 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*8))/8))</span></div>
<div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="../../d4/d4d/tr__animation_8c.html#a8059bcb5a8a06c947b92234148225c68">  468</a></span>&#160;<span class="preprocessor">#define MC_SHIFT_V33 ((((MC_BITS_X+MC_BITS_Y+MC_BITS_Z+MC_BITS_VECT*8)%8)))</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="../../d2/df2/tr__local_8h.html#a2abe395d5eb022ce589d75d4bb4f64c3">  470</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d4d/tr__animation_8c.html#a2abe395d5eb022ce589d75d4bb4f64c3">MC_UnCompress</a>(<span class="keywordtype">float</span> mat[3][4],<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * comp)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;{</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">int</span> val;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[0];</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a52e5a24a3e2c36f0493a8d565606e517">MC_BITS_X</a>-1);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    mat[0][3]=((float)(val))*<a class="code" href="../../d2/df2/tr__local_8h.html#abd1d555983f7080b171c5a3d2a58f62e">MC_SCALE_X</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[1];</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a7c1d665598dc4f681ef80497e785eafe">MC_BITS_Y</a>-1);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    mat[1][3]=((float)(val))*<a class="code" href="../../d2/df2/tr__local_8h.html#a6774f6b97a5f3045cf92c14770e72588">MC_SCALE_Y</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[2];</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#af6e60170c575a00947d40b0df17159c0">MC_BITS_Z</a>-1);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    mat[2][3]=((float)(val))*<a class="code" href="../../d2/df2/tr__local_8h.html#ac51e96cfe159a029c77023525c3b61fc">MC_SCALE_Z</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[3];</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    mat[0][0]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[4];</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    mat[0][1]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[5];</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    mat[0][2]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[6];</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    mat[1][0]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[7];</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    mat[1][1]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[8];</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    mat[1][2]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[9];</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    mat[2][0]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[10];</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    mat[2][1]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    val=(<a class="code" href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>)((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *)(comp))[11];</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    val-=1&lt;&lt;(<a class="code" href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a>-1);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    mat[2][2]=((float)(val))*<a class="code" href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructmdr_vertex__t_html_a27bf24c4e2efa072bceae08a967da852"><div class="ttname"><a href="../../d3/df5/structmdr_vertex__t.html#a27bf24c4e2efa072bceae08a967da852">mdrVertex_t::texCoords</a></div><div class="ttdeci">vec2_t texCoords</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00213">qfiles.h:213</a></div></div>
<div class="ttc" id="atr__animation_8c_html_a2abe395d5eb022ce589d75d4bb4f64c3"><div class="ttname"><a href="../../d4/d4d/tr__animation_8c.html#a2abe395d5eb022ce589d75d4bb4f64c3">MC_UnCompress</a></div><div class="ttdeci">void MC_UnCompress(float mat[3][4], const unsigned char *comp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4d/tr__animation_8c_source.html#l00470">tr_animation.c:470</a></div></div>
<div class="ttc" id="astructfront_end_counters__t_html_af20f98fd283096e18f1f35b64c5fa6c0"><div class="ttname"><a href="../../dc/db2/structfront_end_counters__t.html#af20f98fd283096e18f1f35b64c5fa6c0">frontEndCounters_t::c_sphere_cull_md3_out</a></div><div class="ttdeci">int c_sphere_cull_md3_out</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01351">tr_local.h:1351</a></div></div>
<div class="ttc" id="atr__animation_8c_html_acf9082964d5fe79006537bb522d7a7a0"><div class="ttname"><a href="../../d4/d4d/tr__animation_8c.html#acf9082964d5fe79006537bb522d7a7a0">R_MDRComputeFogNum</a></div><div class="ttdeci">int R_MDRComputeFogNum(mdrHeader_t *header, trRefEntity_t *ent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4d/tr__animation_8c_source.html#l00138">tr_animation.c:138</a></div></div>
<div class="ttc" id="astructmdr_surface__t_html_aebd077d2e4f2d7a66fc2a6fb26de30c7"><div class="ttname"><a href="../../dd/d96/structmdr_surface__t.html#aebd077d2e4f2d7a66fc2a6fb26de30c7">mdrSurface_t::shaderIndex</a></div><div class="ttdeci">int shaderIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00227">qfiles.h:227</a></div></div>
<div class="ttc" id="astructmdr_weight__t_html_af2918cfacbcf8a7914ecf6ebaca1b696"><div class="ttname"><a href="../../d1/d65/structmdr_weight__t.html#af2918cfacbcf8a7914ecf6ebaca1b696">mdrWeight_t::offset</a></div><div class="ttdeci">vec3_t offset</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00208">qfiles.h:208</a></div></div>
<div class="ttc" id="astructmdr_frame__t_html_a6d391ab44d5afd5179215f5944ba7dcf"><div class="ttname"><a href="../../d7/d96/structmdr_frame__t.html#a6d391ab44d5afd5179215f5944ba7dcf">mdrFrame_t::bones</a></div><div class="ttdeci">mdrBone_t bones[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00257">qfiles.h:257</a></div></div>
<div class="ttc" id="astructmdr_weight__t_html_a8f5dfa45471f52ed5a6e73edb65ca0ba"><div class="ttname"><a href="../../d1/d65/structmdr_weight__t.html#a8f5dfa45471f52ed5a6e73edb65ca0ba">mdrWeight_t::boneWeight</a></div><div class="ttdeci">float boneWeight</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00207">qfiles.h:207</a></div></div>
<div class="ttc" id="astructmdr_surface__t_html_a5b56ca1e094757ec523f25b440ea7158"><div class="ttname"><a href="../../dd/d96/structmdr_surface__t.html#a5b56ca1e094757ec523f25b440ea7158">mdrSurface_t::numTriangles</a></div><div class="ttdeci">int numTriangles</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00234">qfiles.h:234</a></div></div>
<div class="ttc" id="astructmdr_header__t_html_a849917792b6722fdb346380c0d0f9ca7"><div class="ttname"><a href="../../d2/df4/structmdr_header__t.html#a849917792b6722fdb346380c0d0f9ca7">mdrHeader_t::numBones</a></div><div class="ttdeci">int numBones</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00290">qfiles.h:290</a></div></div>
<div class="ttc" id="astructmdr_frame__t_html_af7e95caf264d2bec303a48060333bde6"><div class="ttname"><a href="../../d7/d96/structmdr_frame__t.html#af7e95caf264d2bec303a48060333bde6">mdrFrame_t::radius</a></div><div class="ttdeci">float radius</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00255">qfiles.h:255</a></div></div>
<div class="ttc" id="astructmdr_l_o_d__t_html_a599ab623f6aec58419a8fa03a73f1838"><div class="ttname"><a href="../../dc/dd3/structmdr_l_o_d__t.html#a599ab623f6aec58419a8fa03a73f1838">mdrLOD_t::ofsEnd</a></div><div class="ttdeci">int ofsEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00274">qfiles.h:274</a></div></div>
<div class="ttc" id="astructmdr_vertex__t_html_a157f2364bf2ea14a3051f2ed7df676fb"><div class="ttname"><a href="../../d3/df5/structmdr_vertex__t.html#a157f2364bf2ea14a3051f2ed7df676fb">mdrVertex_t::normal</a></div><div class="ttdeci">vec3_t normal</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00212">qfiles.h:212</a></div></div>
<div class="ttc" id="astructmdr_header__t_html"><div class="ttname"><a href="../../d2/df4/structmdr_header__t.html">mdrHeader_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00282">qfiles.h:282</a></div></div>
<div class="ttc" id="astructref_entity__t_html_a91e7be74c6603eb78b3a8383ac5ef3b0"><div class="ttname"><a href="../../de/d06/structref_entity__t.html#a91e7be74c6603eb78b3a8383ac5ef3b0">refEntity_t::frame</a></div><div class="ttdeci">int frame</div><div class="ttdoc">also used as MODEL_BEAM's diameter.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00106">tr_types.h:106</a></div></div>
<div class="ttc" id="astructfront_end_counters__t_html_a17785434bd73b23978017bbe9f0523cd"><div class="ttname"><a href="../../dc/db2/structfront_end_counters__t.html#a17785434bd73b23978017bbe9f0523cd">frontEndCounters_t::c_box_cull_md3_clip</a></div><div class="ttdeci">int c_box_cull_md3_clip</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01352">tr_local.h:1352</a></div></div>
<div class="ttc" id="astructref_entity__t_html_a657815b22b9f86ff5a7232bb73cff091"><div class="ttname"><a href="../../de/d06/structref_entity__t.html#a657815b22b9f86ff5a7232bb73cff091">refEntity_t::customShader</a></div><div class="ttdeci">qhandle_t customShader</div><div class="ttdoc">use one image for the entire thing.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00116">tr_types.h:116</a></div></div>
<div class="ttc" id="astructmdr_weight__t_html"><div class="ttname"><a href="../../d1/d65/structmdr_weight__t.html">mdrWeight_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00205">qfiles.h:205</a></div></div>
<div class="ttc" id="aq__shared_8h_html_a110846a9664bbd925f955266e60e9136"><div class="ttname"><a href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136">qboolean</a></div><div class="ttdeci">qboolean</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/q__shared_8h_source.html#l00201">q_shared.h:201</a></div></div>
<div class="ttc" id="atr__light_8c_html_a2fbd7ddfbf9e9b05c53fe224c1ffe2f0"><div class="ttname"><a href="../../d2/d6e/tr__light_8c.html#a2fbd7ddfbf9e9b05c53fe224c1ffe2f0">R_SetupEntityLighting</a></div><div class="ttdeci">void R_SetupEntityLighting(const trRefdef_t *refdef, trRefEntity_t *ent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6e/tr__light_8c_source.html#l00319">tr_light.c:319</a></div></div>
<div class="ttc" id="astructtr_ref_entity__t_html"><div class="ttname"><a href="../../dc/d4f/structtr_ref_entity__t.html">trRefEntity_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00090">tr_local.h:90</a></div></div>
<div class="ttc" id="astructmdr_header__t_html_ad9c1cee8390276fd323c8cb6564adf43"><div class="ttname"><a href="../../d2/df4/structmdr_header__t.html#ad9c1cee8390276fd323c8cb6564adf43">mdrHeader_t::ofsLODs</a></div><div class="ttdeci">int ofsLODs</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00295">qfiles.h:295</a></div></div>
<div class="ttc" id="aq__shared_8h_html_a547609f6e7dbcd2c93a0adf5430ef665"><div class="ttname"><a href="../../de/d01/q__shared_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a></div><div class="ttdeci">#define VectorClear(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/q__shared_8h_source.html#l00578">q_shared.h:578</a></div></div>
<div class="ttc" id="atr__types_8h_html_ad99129f92ccc1cc445146b25e7973e6f"><div class="ttname"><a href="../../d3/d66/tr__types_8h.html#ad99129f92ccc1cc445146b25e7973e6f">RF_WRAP_FRAMES</a></div><div class="ttdeci">#define RF_WRAP_FRAMES</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00055">tr_types.h:55</a></div></div>
<div class="ttc" id="astructtr_refdef__t_html_a207415f07029398a863a20639d26d562"><div class="ttname"><a href="../../d2/d69/structtr_refdef__t.html#a207415f07029398a863a20639d26d562">trRefdef_t::rdflags</a></div><div class="ttdeci">int rdflags</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00734">tr_local.h:734</a></div></div>
<div class="ttc" id="atr__local_8h_html_a67c1749a9cb3654a9fac887e2b2fcb7c"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a67c1749a9cb3654a9fac887e2b2fcb7c">R_CullLocalBox</a></div><div class="ttdeci">int R_CullLocalBox(vec3_t bounds[2])</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6f/tr__main_8c_source.html#l00200">tr_main.c:200</a></div></div>
<div class="ttc" id="astructback_end_state__t_html_ac36bae87850f6f053c8366f3184fc77a"><div class="ttname"><a href="../../d9/d89/structback_end_state__t.html#ac36bae87850f6f053c8366f3184fc77a">backEndState_t::currentEntity</a></div><div class="ttdeci">trRefEntity_t * currentEntity</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01465">tr_local.h:1465</a></div></div>
<div class="ttc" id="astructworld__t_html_a18aa897fab338d91c618f691c650ab0a"><div class="ttname"><a href="../../da/d48/structworld__t.html#a18aa897fab338d91c618f691c650ab0a">world_t::fogs</a></div><div class="ttdeci">fog_t * fogs</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01174">tr_local.h:1174</a></div></div>
<div class="ttc" id="astructfog__t_html_a0c14d801c05b59d4574aea13afdf7d3d"><div class="ttname"><a href="../../de/d9f/structfog__t.html#a0c14d801c05b59d4574aea13afdf7d3d">fog_t::bounds</a></div><div class="ttdeci">vec3_t bounds[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00796">tr_local.h:796</a></div></div>
<div class="ttc" id="atr__local_8h_html_af6e60170c575a00947d40b0df17159c0"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#af6e60170c575a00947d40b0df17159c0">MC_BITS_Z</a></div><div class="ttdeci">#define MC_BITS_Z</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02270">tr_local.h:2270</a></div></div>
<div class="ttc" id="astructfront_end_counters__t_html_ada88df2b8e218c602d4450ebc17ebbf4"><div class="ttname"><a href="../../dc/db2/structfront_end_counters__t.html#ada88df2b8e218c602d4450ebc17ebbf4">frontEndCounters_t::c_sphere_cull_md3_clip</a></div><div class="ttdeci">int c_sphere_cull_md3_clip</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01351">tr_local.h:1351</a></div></div>
<div class="ttc" id="astructmdr_vertex__t_html"><div class="ttname"><a href="../../d3/df5/structmdr_vertex__t.html">mdrVertex_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00211">qfiles.h:211</a></div></div>
<div class="ttc" id="astructfront_end_counters__t_html_ac1eefeb062c4301e8db9f75fe84e6795"><div class="ttname"><a href="../../dc/db2/structfront_end_counters__t.html#ac1eefeb062c4301e8db9f75fe84e6795">frontEndCounters_t::c_box_cull_md3_out</a></div><div class="ttdeci">int c_box_cull_md3_out</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01352">tr_local.h:1352</a></div></div>
<div class="ttc" id="atr__image_8c_html_ae9f3f7f1e85b38dedd4ab6f2aacc0d83"><div class="ttname"><a href="../../d6/dfe/tr__image_8c.html#ae9f3f7f1e85b38dedd4ab6f2aacc0d83">R_GetSkinByHandle</a></div><div class="ttdeci">skin_t * R_GetSkinByHandle(qhandle_t hSkin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfe/tr__image_8c_source.html#l03195">tr_image.c:3195</a></div></div>
<div class="ttc" id="atr__local_8h_html_a2592c0b3e354564bc96081b55e3912aa"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a2592c0b3e354564bc96081b55e3912aa">tr</a></div><div class="ttdeci">trGlobals_t tr</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6f/tr__main_8c_source.html#l00028">tr_main.c:28</a></div></div>
<div class="ttc" id="atr__local_8h_html_ac51e96cfe159a029c77023525c3b61fc"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#ac51e96cfe159a029c77023525c3b61fc">MC_SCALE_Z</a></div><div class="ttdeci">#define MC_SCALE_Z</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02275">tr_local.h:2275</a></div></div>
<div class="ttc" id="atr__types_8h_html_af24f7935b529d1de5f201794b2164188"><div class="ttname"><a href="../../d3/d66/tr__types_8h.html#af24f7935b529d1de5f201794b2164188">RF_THIRD_PERSON</a></div><div class="ttdeci">#define RF_THIRD_PERSON</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00038">tr_types.h:38</a></div></div>
<div class="ttc" id="astructmodel__s_html_adebe34da68c7002c8db396505e73844a"><div class="ttname"><a href="../../df/d93/structmodel__s.html#adebe34da68c7002c8db396505e73844a">model_s::name</a></div><div class="ttdeci">char name[MAX_QPATH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01277">tr_local.h:1277</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_a03d142f0e60f9235b1124289b3a9d2f9"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#a03d142f0e60f9235b1124289b3a9d2f9">trGlobals_t::numSkins</a></div><div class="ttdeci">int numSkins</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01647">tr_local.h:1647</a></div></div>
<div class="ttc" id="astructmdr_header__t_html_ac6b93956781939d81511fba0a4f5682a"><div class="ttname"><a href="../../d2/df4/structmdr_header__t.html#ac6b93956781939d81511fba0a4f5682a">mdrHeader_t::numLODs</a></div><div class="ttdeci">int numLODs</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00294">qfiles.h:294</a></div></div>
<div class="ttc" id="astructmdr_surface__t_html_aeb04efdee373085646a6dcaa797edb48"><div class="ttname"><a href="../../dd/d96/structmdr_surface__t.html#aeb04efdee373085646a6dcaa797edb48">mdrSurface_t::numVerts</a></div><div class="ttdeci">int numVerts</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00231">qfiles.h:231</a></div></div>
<div class="ttc" id="atr__animation_8c_html_ae82e8a8920afbf8dd0ed76a84f78db59"><div class="ttname"><a href="../../d4/d4d/tr__animation_8c.html#ae82e8a8920afbf8dd0ed76a84f78db59">R_MDRAddAnimSurfaces</a></div><div class="ttdeci">void R_MDRAddAnimSurfaces(trRefEntity_t *ent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4d/tr__animation_8c_source.html#l00181">tr_animation.c:181</a></div></div>
<div class="ttc" id="astructskin__s_html_ae4f1a02798ef14cd1e5eed5a268b170c"><div class="ttname"><a href="../../db/d29/structskin__s.html#ae4f1a02798ef14cd1e5eed5a268b170c">skin_s::numSurfaces</a></div><div class="ttdeci">int numSurfaces</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00789">tr_local.h:789</a></div></div>
<div class="ttc" id="atr__animation_8c_html_a9becd02143182d5942f2a8fc7b497265"><div class="ttname"><a href="../../d4/d4d/tr__animation_8c.html#a9becd02143182d5942f2a8fc7b497265">R_MDRCullModel</a></div><div class="ttdeci">static int R_MDRCullModel(mdrHeader_t *header, trRefEntity_t *ent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4d/tr__animation_8c_source.html#l00045">tr_animation.c:45</a></div></div>
<div class="ttc" id="atr__types_8h_html_a25aa94ce2265d443b0ad5dfc900f86d4"><div class="ttname"><a href="../../d3/d66/tr__types_8h.html#a25aa94ce2265d443b0ad5dfc900f86d4">RF_DEPTHHACK</a></div><div class="ttdeci">#define RF_DEPTHHACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00040">tr_types.h:40</a></div></div>
<div class="ttc" id="atr__animation_8c_html_a0be032a9622fdc075133060237e7a787"><div class="ttname"><a href="../../d4/d4d/tr__animation_8c.html#a0be032a9622fdc075133060237e7a787">MC_SCALE_VECT</a></div><div class="ttdeci">#define MC_SCALE_VECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4d/tr__animation_8c_source.html#l00432">tr_animation.c:432</a></div></div>
<div class="ttc" id="astructmdr_bone__t_html_a304158788c2b397133afe97d3cb1f2d7"><div class="ttname"><a href="../../d4/d66/structmdr_bone__t.html#a304158788c2b397133afe97d3cb1f2d7">mdrBone_t::matrix</a></div><div class="ttdeci">float matrix[3][4]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00249">qfiles.h:249</a></div></div>
<div class="ttc" id="astructref_entity__t_html_ab20fcaaba636e72b88a67bd38a3b257d"><div class="ttname"><a href="../../de/d06/structref_entity__t.html#ab20fcaaba636e72b88a67bd38a3b257d">refEntity_t::backlerp</a></div><div class="ttdeci">float backlerp</div><div class="ttdoc">0.0 = current, 1.0 = old.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00111">tr_types.h:111</a></div></div>
<div class="ttc" id="astructmdr_l_o_d__t_html_a815871a9bbf9c9d38dd327f2147f8682"><div class="ttname"><a href="../../dc/dd3/structmdr_l_o_d__t.html#a815871a9bbf9c9d38dd327f2147f8682">mdrLOD_t::ofsSurfaces</a></div><div class="ttdeci">int ofsSurfaces</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00273">qfiles.h:273</a></div></div>
<div class="ttc" id="aioapi_8h_html_a787fa3cf048117ba7123753c1e74fcd6"><div class="ttname"><a href="../../d2/db7/ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a></div><div class="ttdeci">typedef int(ZCALLBACK *close_file_func) OF((voidpf opaque</div></div>
<div class="ttc" id="atr__types_8h_html_af528c63201d824134dd3da6baae97dc2"><div class="ttname"><a href="../../d3/d66/tr__types_8h.html#af528c63201d824134dd3da6baae97dc2">RF_SHADOW_PLANE</a></div><div class="ttdeci">#define RF_SHADOW_PLANE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00054">tr_types.h:54</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_a80f30b6dc746992af08de3979ba08511"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#a80f30b6dc746992af08de3979ba08511">trGlobals_t::defaultShader</a></div><div class="ttdeci">shader_t * defaultShader</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01554">tr_local.h:1554</a></div></div>
<div class="ttc" id="atr__local_8h_html_a6774f6b97a5f3045cf92c14770e72588"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a6774f6b97a5f3045cf92c14770e72588">MC_SCALE_Y</a></div><div class="ttdeci">#define MC_SCALE_Y</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02274">tr_local.h:2274</a></div></div>
<div class="ttc" id="astructfront_end_counters__t_html_ab132152c5ce1fa3f99e1910697bc0a39"><div class="ttname"><a href="../../dc/db2/structfront_end_counters__t.html#ab132152c5ce1fa3f99e1910697bc0a39">frontEndCounters_t::c_box_cull_md3_in</a></div><div class="ttdeci">int c_box_cull_md3_in</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01352">tr_local.h:1352</a></div></div>
<div class="ttc" id="astructmdr_surface__t_html"><div class="ttname"><a href="../../dd/d96/structmdr_surface__t.html">mdrSurface_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00222">qfiles.h:222</a></div></div>
<div class="ttc" id="astructref_entity__t_html_addfff1e658a952ac57e051760141294f"><div class="ttname"><a href="../../de/d06/structref_entity__t.html#addfff1e658a952ac57e051760141294f">refEntity_t::origin</a></div><div class="ttdeci">float origin[3]</div><div class="ttdoc">also used as MODEL_BEAM's &quot;from&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00105">tr_types.h:105</a></div></div>
<div class="ttc" id="astructmdr_surface__t_html_a1e6d4a7e940d3415413fb373f1fd6b84"><div class="ttname"><a href="../../dd/d96/structmdr_surface__t.html#a1e6d4a7e940d3415413fb373f1fd6b84">mdrSurface_t::name</a></div><div class="ttdeci">char name[MAX_QPATH]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00225">qfiles.h:225</a></div></div>
<div class="ttc" id="astructmdr_frame__t_html_a233ce9e11d2203268346555bc91c9d89"><div class="ttname"><a href="../../d7/d96/structmdr_frame__t.html#a233ce9e11d2203268346555bc91c9d89">mdrFrame_t::localOrigin</a></div><div class="ttdeci">vec3_t localOrigin</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00254">qfiles.h:254</a></div></div>
<div class="ttc" id="atr__local_8h_html_a5aba2c0c3818eb141d461139386d4a21"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a5aba2c0c3818eb141d461139386d4a21">R_CullLocalPointAndRadius</a></div><div class="ttdeci">int R_CullLocalPointAndRadius(const vec3_t origin, float radius)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6f/tr__main_8c_source.html#l00331">tr_main.c:331</a></div></div>
<div class="ttc" id="astructview_parms__t_html_ace457fbc4eb792ef5f7b6e12fefa32e8"><div class="ttname"><a href="../../dc/d5f/structview_parms__t.html#ace457fbc4eb792ef5f7b6e12fefa32e8">viewParms_t::isPortal</a></div><div class="ttdeci">qboolean isPortal</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00823">tr_local.h:823</a></div></div>
<div class="ttc" id="astructref_entity__t_html_aaf72a651db01b62a6b87daa180b81155"><div class="ttname"><a href="../../de/d06/structref_entity__t.html#aaf72a651db01b62a6b87daa180b81155">refEntity_t::oldframe</a></div><div class="ttdeci">int oldframe</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00110">tr_types.h:110</a></div></div>
<div class="ttc" id="aq__shared_8h_html_ac53d956b361c806bb26b3914a66c5d4d"><div class="ttname"><a href="../../de/d01/q__shared_8h.html#ac53d956b361c806bb26b3914a66c5d4d">DotProduct</a></div><div class="ttdeci">#define DotProduct(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/q__shared_8h_source.html#l00549">q_shared.h:549</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_a0751208d57071f34c7ec806062976bb1"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#a0751208d57071f34c7ec806062976bb1">trGlobals_t::projectionShadowShader</a></div><div class="ttdeci">shader_t * projectionShadowShader</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01556">tr_local.h:1556</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_a85f80d53f208dd3f0342593305b0d41e"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#a85f80d53f208dd3f0342593305b0d41e">trGlobals_t::world</a></div><div class="ttdeci">world_t * world</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01505">tr_local.h:1505</a></div></div>
<div class="ttc" id="astructmdr_surface__t_html_ab02e3af66357521471ca4f5d79b9fc6c"><div class="ttname"><a href="../../dd/d96/structmdr_surface__t.html#ab02e3af66357521471ca4f5d79b9fc6c">mdrSurface_t::ofsTriangles</a></div><div class="ttdeci">int ofsTriangles</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00235">qfiles.h:235</a></div></div>
<div class="ttc" id="atr__init_8c_html_a3a0dfc02db1c8ef128c9e667be8b8f86"><div class="ttname"><a href="../../d6/d0e/tr__init_8c.html#a3a0dfc02db1c8ef128c9e667be8b8f86">r_shadows</a></div><div class="ttdeci">cvar_t * r_shadows</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/tr__init_8c_source.html#l00180">tr_init.c:180</a></div></div>
<div class="ttc" id="astructmdr_l_o_d__t_html_af5d1093e25d597e4a363ccbfc6736b34"><div class="ttname"><a href="../../dc/dd3/structmdr_l_o_d__t.html#af5d1093e25d597e4a363ccbfc6736b34">mdrLOD_t::numSurfaces</a></div><div class="ttdeci">int numSurfaces</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00272">qfiles.h:272</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_ab4e6ee584773376779097712c135e17c"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#ab4e6ee584773376779097712c135e17c">trGlobals_t::shadowShader</a></div><div class="ttdeci">shader_t * shadowShader</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01555">tr_local.h:1555</a></div></div>
<div class="ttc" id="atr__local_8h_html_a07370d209bf1f19203600eebfb991613"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a07370d209bf1f19203600eebfb991613">RB_CHECKOVERFLOW</a></div><div class="ttdeci">#define RB_CHECKOVERFLOW(v, i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02067">tr_local.h:2067</a></div></div>
<div class="ttc" id="atr__local_8h_html_a8ee858b7ef06aa7c70de75209cb2642f"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a8ee858b7ef06aa7c70de75209cb2642f">CULL_CLIP</a></div><div class="ttdeci">#define CULL_CLIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01886">tr_local.h:1886</a></div></div>
<div class="ttc" id="astructskin__s_html"><div class="ttname"><a href="../../db/d29/structskin__s.html">skin_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00787">tr_local.h:787</a></div></div>
<div class="ttc" id="astructmdr_bone__t_html"><div class="ttname"><a href="../../d4/d66/structmdr_bone__t.html">mdrBone_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00248">qfiles.h:248</a></div></div>
<div class="ttc" id="atr__common_8h_html_ad8c9b460fd8a24127b3c7dfd78e9351e"><div class="ttname"><a href="../../d7/d37/tr__common_8h.html#ad8c9b460fd8a24127b3c7dfd78e9351e">ri</a></div><div class="ttdeci">refimport_t ri</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6f/tr__main_8c_source.html#l00040">tr_main.c:40</a></div></div>
<div class="ttc" id="astructmdr_surface__t_html_af51254c4561ab8f06b8ad5192383128f"><div class="ttname"><a href="../../dd/d96/structmdr_surface__t.html#af51254c4561ab8f06b8ad5192383128f">mdrSurface_t::ofsVerts</a></div><div class="ttdeci">int ofsVerts</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00232">qfiles.h:232</a></div></div>
<div class="ttc" id="astructmdr_header__t_html_a042c5afd7c83bb9ea2f9a672bfb7ed3b"><div class="ttname"><a href="../../d2/df4/structmdr_header__t.html#a042c5afd7c83bb9ea2f9a672bfb7ed3b">mdrHeader_t::ofsFrames</a></div><div class="ttdeci">int ofsFrames</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00291">qfiles.h:291</a></div></div>
<div class="ttc" id="astructmdr_vertex__t_html_a63debd4fa901d9a18e4aabf613bdedd0"><div class="ttname"><a href="../../d3/df5/structmdr_vertex__t.html#a63debd4fa901d9a18e4aabf613bdedd0">mdrVertex_t::numWeights</a></div><div class="ttdeci">int numWeights</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00214">qfiles.h:214</a></div></div>
<div class="ttc" id="atr__types_8h_html_a8c254753d773025f3aaf20136167ecbd"><div class="ttname"><a href="../../d3/d66/tr__types_8h.html#a8c254753d773025f3aaf20136167ecbd">RDF_NOWORLDMODEL</a></div><div class="ttdeci">#define RDF_NOWORLDMODEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00059">tr_types.h:59</a></div></div>
<div class="ttc" id="atr__backend_8c_html_a0484bda4e1827703dad9dd3251b630ca"><div class="ttname"><a href="../../d5/d50/tr__backend_8c.html#a0484bda4e1827703dad9dd3251b630ca">backEnd</a></div><div class="ttdeci">backEndState_t backEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d50/tr__backend_8c_source.html#l00027">tr_backend.c:27</a></div></div>
<div class="ttc" id="aq__shared_8h_html_ac7c7d40fe22eeaffb66c24bd718f655d"><div class="ttname"><a href="../../de/d01/q__shared_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a></div><div class="ttdeci">#define VectorAdd(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/q__shared_8h_source.html#l00551">q_shared.h:551</a></div></div>
<div class="ttc" id="atr__light_8c_html_aab5f60463a6a3868587e43ea36b98788"><div class="ttname"><a href="../../d2/d6e/tr__light_8c.html#aab5f60463a6a3868587e43ea36b98788">R_CubemapForPoint</a></div><div class="ttdeci">int R_CubemapForPoint(vec3_t point)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6e/tr__light_8c_source.html#l00485">tr_light.c:485</a></div></div>
<div class="ttc" id="astructmdr_l_o_d__t_html"><div class="ttname"><a href="../../dc/dd3/structmdr_l_o_d__t.html">mdrLOD_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00271">qfiles.h:271</a></div></div>
<div class="ttc" id="atr__local_8h_html"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html">tr_local.h</a></div></div>
<div class="ttc" id="atr__local_8h_html_ac5fd622afcb6ecc6963586d541146569"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#ac5fd622afcb6ecc6963586d541146569">tess</a></div><div class="ttdeci">shaderCommands_t tess</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d66/tr__shade_8c_source.html#l00055">tr_shade.c:55</a></div></div>
<div class="ttc" id="astructshader__s_html_a63a3ac69b0772b80eb81be6bb4b4e650"><div class="ttname"><a href="../../d9/d60/structshader__s.html#a63a3ac69b0772b80eb81be6bb4b4e650">shader_s::sort</a></div><div class="ttdeci">float sort</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00448">tr_local.h:448</a></div></div>
<div class="ttc" id="atr__local_8h_html_a88a795b81d036494b0b17e80b6f0b651a6ab99fd04ff3b9afb7b598c9b3f7d3fd"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a88a795b81d036494b0b17e80b6f0b651a6ab99fd04ff3b9afb7b598c9b3f7d3fd">VPF_SHADOWMAP</a></div><div class="ttdeci">@ VPF_SHADOWMAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00810">tr_local.h:810</a></div></div>
<div class="ttc" id="astructfront_end_counters__t_html_aa60a3d4ab8fb9b8cbbbb97212f783d0d"><div class="ttname"><a href="../../dc/db2/structfront_end_counters__t.html#aa60a3d4ab8fb9b8cbbbb97212f783d0d">frontEndCounters_t::c_sphere_cull_md3_in</a></div><div class="ttdeci">int c_sphere_cull_md3_in</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01351">tr_local.h:1351</a></div></div>
<div class="ttc" id="atr__local_8h_html_ac95ad9940ced91735712c690a2b67ae4"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#ac95ad9940ced91735712c690a2b67ae4">CULL_IN</a></div><div class="ttdeci">#define CULL_IN</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01885">tr_local.h:1885</a></div></div>
<div class="ttc" id="atr__local_8h_html_a88a795b81d036494b0b17e80b6f0b651a76db5c5561e0f0164169e99a6bd91f50"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a88a795b81d036494b0b17e80b6f0b651a76db5c5561e0f0164169e99a6bd91f50">VPF_DEPTHSHADOW</a></div><div class="ttdeci">@ VPF_DEPTHSHADOW</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00811">tr_local.h:811</a></div></div>
<div class="ttc" id="astructmdr_weight__t_html_a0e5501d7a04f5e5f8220b3ead2fb30e7"><div class="ttname"><a href="../../d1/d65/structmdr_weight__t.html#a0e5501d7a04f5e5f8220b3ead2fb30e7">mdrWeight_t::boneIndex</a></div><div class="ttdeci">int boneIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00206">qfiles.h:206</a></div></div>
<div class="ttc" id="aq__shared_8h_html_a795cf7b86a6e2a8b8ca0e3f60be45ae6a54141205a93d730d263f8cb23fa5f01e"><div class="ttname"><a href="../../de/d01/q__shared_8h.html#a795cf7b86a6e2a8b8ca0e3f60be45ae6a54141205a93d730d263f8cb23fa5f01e">PRINT_DEVELOPER</a></div><div class="ttdeci">@ PRINT_DEVELOPER</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/q__shared_8h_source.html#l00288">q_shared.h:288</a></div></div>
<div class="ttc" id="astructfog__t_html"><div class="ttname"><a href="../../de/d9f/structfog__t.html">fog_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00794">tr_local.h:794</a></div></div>
<div class="ttc" id="astructshader_commands__s_html_aa724e4006213f1a25ac38cd9101c4cb4"><div class="ttname"><a href="../../dc/dff/structshader_commands__s.html#aa724e4006213f1a25ac38cd9101c4cb4">shaderCommands_s::numIndexes</a></div><div class="ttdeci">int numIndexes</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02053">tr_local.h:2053</a></div></div>
<div class="ttc" id="atr__local_8h_html_a0d2cbba3c6223eb996b953dda5b0d3e3"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a0d2cbba3c6223eb996b953dda5b0d3e3">R_ComputeLOD</a></div><div class="ttdeci">int R_ComputeLOD(trRefEntity_t *ent)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d77/tr__mesh_8c_source.html#l00166">tr_mesh.c:166</a></div></div>
<div class="ttc" id="atr__animation_8c_html_ae0d036e1182414eaa5faef3164fe4e8a"><div class="ttname"><a href="../../d4/d4d/tr__animation_8c.html#ae0d036e1182414eaa5faef3164fe4e8a">RB_MDRSurfaceAnim</a></div><div class="ttdeci">void RB_MDRSurfaceAnim(mdrSurface_t *surface)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4d/tr__animation_8c_source.html#l00315">tr_animation.c:315</a></div></div>
<div class="ttc" id="atr__local_8h_html_a7a04568895e95f8ae30f0a319da3751d"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a7a04568895e95f8ae30f0a319da3751d">R_VaoPackNormal</a></div><div class="ttdeci">void R_VaoPackNormal(int16_t *out, vec3_t v)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d3e/tr__vbo_8c_source.html#l00034">tr_vbo.c:34</a></div></div>
<div class="ttc" id="astructskin__s_html_a844b09ce38d65c88b96860d2b614cb28"><div class="ttname"><a href="../../db/d29/structskin__s.html#a844b09ce38d65c88b96860d2b614cb28">skin_s::surfaces</a></div><div class="ttdeci">skinSurface_t * surfaces</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00790">tr_local.h:790</a></div></div>
<div class="ttc" id="astructcvar__s_html_ae873b26596ff98802364d80bbb71c72a"><div class="ttname"><a href="../../d8/d20/structcvar__s.html#ae873b26596ff98802364d80bbb71c72a">cvar_s::integer</a></div><div class="ttdeci">int integer</div><div class="ttdoc">atoi( string ).</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/q__shared_8h_source.html#l00957">q_shared.h:957</a></div></div>
<div class="ttc" id="atr__types_8h_html_aa4a705423e58d3fd1c2e6c1b2e738f95"><div class="ttname"><a href="../../d3/d66/tr__types_8h.html#aa4a705423e58d3fd1c2e6c1b2e738f95">RF_NOSHADOW</a></div><div class="ttdeci">#define RF_NOSHADOW</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00047">tr_types.h:47</a></div></div>
<div class="ttc" id="atr__local_8h_html_a52e5a24a3e2c36f0493a8d565606e517"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a52e5a24a3e2c36f0493a8d565606e517">MC_BITS_X</a></div><div class="ttdeci">#define MC_BITS_X</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02268">tr_local.h:2268</a></div></div>
<div class="ttc" id="atr__local_8h_html_a7c1d665598dc4f681ef80497e785eafe"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a7c1d665598dc4f681ef80497e785eafe">MC_BITS_Y</a></div><div class="ttdeci">#define MC_BITS_Y</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02269">tr_local.h:2269</a></div></div>
<div class="ttc" id="atr__local_8h_html_a03df5920ac8ad3d828f4174d77a0c705a6b2c619db929f7bd5a69e8ef573e60cf"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a03df5920ac8ad3d828f4174d77a0c705a6b2c619db929f7bd5a69e8ef573e60cf">SS_OPAQUE</a></div><div class="ttdeci">@ SS_OPAQUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00156">tr_local.h:156</a></div></div>
<div class="ttc" id="astructmodel__s_html_ad21828e61f2c380e144f1613340a5ced"><div class="ttname"><a href="../../df/d93/structmodel__s.html#ad21828e61f2c380e144f1613340a5ced">model_s::modelData</a></div><div class="ttdeci">void * modelData</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01284">tr_local.h:1284</a></div></div>
<div class="ttc" id="astructworld__t_html_a3fea9d17d9f42672ba319cfbdf576a00"><div class="ttname"><a href="../../da/d48/structworld__t.html#a3fea9d17d9f42672ba319cfbdf576a00">world_t::numfogs</a></div><div class="ttdeci">int numfogs</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01173">tr_local.h:1173</a></div></div>
<div class="ttc" id="atr__local_8h_html_a379ee38303eb2bfeb9a0273de9228f19"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a379ee38303eb2bfeb9a0273de9228f19">R_GetShaderByHandle</a></div><div class="ttdeci">shader_t * R_GetShaderByHandle(qhandle_t hShader)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d29/tr__shader_8c_source.html#l03583">tr_shader.c:3583</a></div></div>
<div class="ttc" id="atr__local_8h_html_a2c0cdf5a053ec3e187ff532bc5d776dc"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a2c0cdf5a053ec3e187ff532bc5d776dc">MC_BITS_VECT</a></div><div class="ttdeci">#define MC_BITS_VECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02271">tr_local.h:2271</a></div></div>
<div class="ttc" id="astructview_parms__t_html_a6d6cdd80fea8c5104a57efc80fa78c2f"><div class="ttname"><a href="../../dc/d5f/structview_parms__t.html#a6d6cdd80fea8c5104a57efc80fa78c2f">viewParms_t::flags</a></div><div class="ttdeci">viewParmFlags_t flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00825">tr_local.h:825</a></div></div>
<div class="ttc" id="astructmdr_vertex__t_html_a01a0319804b32d4f8fa7837ab531b399"><div class="ttname"><a href="../../d3/df5/structmdr_vertex__t.html#a01a0319804b32d4f8fa7837ab531b399">mdrVertex_t::weights</a></div><div class="ttdeci">mdrWeight_t weights[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00215">qfiles.h:215</a></div></div>
<div class="ttc" id="astructshader_commands__s_html_a4b3932fd863a12ffe7b0305d1168c5f2"><div class="ttname"><a href="../../dc/dff/structshader_commands__s.html#a4b3932fd863a12ffe7b0305d1168c5f2">shaderCommands_s::numVertexes</a></div><div class="ttdeci">int numVertexes</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02054">tr_local.h:2054</a></div></div>
<div class="ttc" id="atr__local_8h_html_a7715cf6dcc63f2e8a712ec61f90e1d5a"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#a7715cf6dcc63f2e8a712ec61f90e1d5a">R_AddDrawSurf</a></div><div class="ttdeci">void R_AddDrawSurf(surfaceType_t *surface, shader_t *shader, int fogIndex, int dlightMap, int pshadowMap, int cubemap)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6f/tr__main_8c_source.html#l01461">tr_main.c:1461</a></div></div>
<div class="ttc" id="astructref_entity__t_html_a0ea804e0d9587618560ff248ca7085d3"><div class="ttname"><a href="../../de/d06/structref_entity__t.html#a0ea804e0d9587618560ff248ca7085d3">refEntity_t::renderfx</a></div><div class="ttdeci">int renderfx</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00095">tr_types.h:95</a></div></div>
<div class="ttc" id="aq__shared_8h_html_a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40"><div class="ttname"><a href="../../de/d01/q__shared_8h.html#a110846a9664bbd925f955266e60e9136a0e538a5d43e68d2de4eb96c77855de40">qfalse</a></div><div class="ttdeci">@ qfalse</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/q__shared_8h_source.html#l00201">q_shared.h:201</a></div></div>
<div class="ttc" id="atr__vbo_8c_html_a18dfb862ebd3e6d95f732fca05385362"><div class="ttname"><a href="../../df/d3e/tr__vbo_8c.html#a18dfb862ebd3e6d95f732fca05385362">indexes</a></div><div class="ttdeci">glIndex_t indexes[VAOCACHE_QUEUE_MAX_INDEXES]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d3e/tr__vbo_8c_source.html#l00679">tr_vbo.c:679</a></div></div>
<div class="ttc" id="astructskin_surface__t_html_ad7604ee55c013211f23e2646b9920eff"><div class="ttname"><a href="../../db/d30/structskin_surface__t.html#ad7604ee55c013211f23e2646b9920eff">skinSurface_t::shader</a></div><div class="ttdeci">shader_t * shader</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00784">tr_local.h:784</a></div></div>
<div class="ttc" id="atr__shader_8c_html_add8b99b73cfef6fc7963980f9db455de"><div class="ttname"><a href="../../d7/d29/tr__shader_8c.html#add8b99b73cfef6fc7963980f9db455de">shader</a></div><div class="ttdeci">static shader_t shader</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d29/tr__shader_8c_source.html#l00031">tr_shader.c:31</a></div></div>
<div class="ttc" id="astructref_entity__t_html_a29c3c6aed2febdf7c2a93d5fbac47e4b"><div class="ttname"><a href="../../de/d06/structref_entity__t.html#a29c3c6aed2febdf7c2a93d5fbac47e4b">refEntity_t::nonNormalizedAxes</a></div><div class="ttdeci">qboolean nonNormalizedAxes</div><div class="ttdoc">axis are not normalized, i.e. they have scale.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00104">tr_types.h:104</a></div></div>
<div class="ttc" id="astructshader__s_html"><div class="ttname"><a href="../../d9/d60/structshader__s.html">shader_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00441">tr_local.h:441</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_a9ac84f0b5e6b083ec10ba3a449f1c0a6"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#a9ac84f0b5e6b083ec10ba3a449f1c0a6">trGlobals_t::refdef</a></div><div class="ttdeci">trRefdef_t refdef</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01609">tr_local.h:1609</a></div></div>
<div class="ttc" id="aqfiles_8h_html_a0abeb29ddf44d6644cb91dd9a0efdf41"><div class="ttname"><a href="../../db/d01/qfiles_8h.html#a0abeb29ddf44d6644cb91dd9a0efdf41">MDR_MAX_BONES</a></div><div class="ttdeci">#define MDR_MAX_BONES</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00203">qfiles.h:203</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_abbb10014b4c9c114858bbbb3833acdd4"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#abbb10014b4c9c114858bbbb3833acdd4">trGlobals_t::viewParms</a></div><div class="ttdeci">viewParms_t viewParms</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01601">tr_local.h:1601</a></div></div>
<div class="ttc" id="atr__local_8h_html_aa6a9ce8cf061921bdd7d765b54238d45"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#aa6a9ce8cf061921bdd7d765b54238d45">CULL_OUT</a></div><div class="ttdeci">#define CULL_OUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01887">tr_local.h:1887</a></div></div>
<div class="ttc" id="astructmdr_frame__t_html"><div class="ttname"><a href="../../d7/d96/structmdr_frame__t.html">mdrFrame_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00252">qfiles.h:252</a></div></div>
<div class="ttc" id="astructmdr_header__t_html_a8818afb02a9149cd9b1a0167d299450e"><div class="ttname"><a href="../../d2/df4/structmdr_header__t.html#a8818afb02a9149cd9b1a0167d299450e">mdrHeader_t::numFrames</a></div><div class="ttdeci">int numFrames</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00289">qfiles.h:289</a></div></div>
<div class="ttc" id="atr__local_8h_html_abd1d555983f7080b171c5a3d2a58f62e"><div class="ttname"><a href="../../d2/df2/tr__local_8h.html#abd1d555983f7080b171c5a3d2a58f62e">MC_SCALE_X</a></div><div class="ttdeci">#define MC_SCALE_X</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l02273">tr_local.h:2273</a></div></div>
<div class="ttc" id="astructref_entity__t_html_a820eb2a02e729cf3a452718748c509f3"><div class="ttname"><a href="../../de/d06/structref_entity__t.html#a820eb2a02e729cf3a452718748c509f3">refEntity_t::customSkin</a></div><div class="ttdeci">qhandle_t customSkin</div><div class="ttdoc">NULL for default skin.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/tr__types_8h_source.html#l00115">tr_types.h:115</a></div></div>
<div class="ttc" id="astructmdr_frame__t_html_a08c1a23a68f6c27d6fe3910a762d9365"><div class="ttname"><a href="../../d7/d96/structmdr_frame__t.html#a08c1a23a68f6c27d6fe3910a762d9365">mdrFrame_t::bounds</a></div><div class="ttdeci">vec3_t bounds[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00253">qfiles.h:253</a></div></div>
<div class="ttc" id="aq__shared_8h_html_a5fab60d2366b4888d93d5814eb04c9e9"><div class="ttname"><a href="../../de/d01/q__shared_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a></div><div class="ttdeci">vec_t vec3_t[3]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/q__shared_8h_source.html#l00367">q_shared.h:367</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_a2ddd3026a66bc4d056229de71aa60861"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#a2ddd3026a66bc4d056229de71aa60861">trGlobals_t::pc</a></div><div class="ttdeci">frontEndCounters_t pc</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01621">tr_local.h:1621</a></div></div>
<div class="ttc" id="astructtr_ref_entity__t_html_a07376523c746b9384013860e7d0efc0a"><div class="ttname"><a href="../../dc/d4f/structtr_ref_entity__t.html#a07376523c746b9384013860e7d0efc0a">trRefEntity_t::e</a></div><div class="ttdeci">refEntity_t e</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00091">tr_local.h:91</a></div></div>
<div class="ttc" id="astructskin_surface__t_html_af481402e41c1818a1b93df8f605db6f0"><div class="ttname"><a href="../../db/d30/structskin_surface__t.html#af481402e41c1818a1b93df8f605db6f0">skinSurface_t::name</a></div><div class="ttdeci">char name[MAX_QPATH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l00783">tr_local.h:783</a></div></div>
<div class="ttc" id="astructmdr_surface__t_html_a5b4e7e3c9ba75639b4f6d4eb6154e7be"><div class="ttname"><a href="../../dd/d96/structmdr_surface__t.html#a5b4e7e3c9ba75639b4f6d4eb6154e7be">mdrSurface_t::ofsHeader</a></div><div class="ttdeci">int ofsHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d01/qfiles_8h_source.html#l00229">qfiles.h:229</a></div></div>
<div class="ttc" id="astructtr_globals__t_html_aaf40c6ab98aea754565ad367063946b9"><div class="ttname"><a href="../../dd/de7/structtr_globals__t.html#aaf40c6ab98aea754565ad367063946b9">trGlobals_t::currentModel</a></div><div class="ttdeci">model_t * currentModel</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/tr__local_8h_source.html#l01577">tr_local.h:1577</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="../../dir_ef8d705b514234b794bf772585f7eaf0.html">renderergl2</a></li><li class="navelem"><a class="el" href="../../d4/d4d/tr__animation_8c.html">tr_animation.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
